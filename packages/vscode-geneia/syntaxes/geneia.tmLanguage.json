{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Geneia",
  "scopeName": "source.geneia",
  "fileTypes": ["gn"],
  "patterns": [
    { "include": "#comments" },
    { "include": "#tips" },
    { "include": "#modules" },
    { "include": "#flags" },
    { "include": "#keywords" },
    { "include": "#builtins" },
    { "include": "#strings" },
    { "include": "#numbers" },
    { "include": "#operators" },
    { "include": "#variables" }
  ],
  "repository": {
    "comments": {
      "patterns": [{
        "name": "comment.block.geneia",
        "begin": "!",
        "end": "!",
        "beginCaptures": { "0": { "name": "punctuation.definition.comment.begin.geneia" } },
        "endCaptures": { "0": { "name": "punctuation.definition.comment.end.geneia" } }
      }]
    },
    "tips": {
      "patterns": [{
        "name": "string.quoted.double.tip.geneia",
        "begin": "\"",
        "end": "\"",
        "beginCaptures": { "0": { "name": "punctuation.definition.string.begin.geneia" } },
        "endCaptures": { "0": { "name": "punctuation.definition.string.end.geneia" } }
      }]
    },
    "modules": {
      "patterns": [
        {
          "name": "entity.name.function.module.geneia",
          "match": "\\.(String|Time|Math|Sys|Array|Render|GWS|W2G|GNEL|Web|UI|GSL)\\.[a-zA-Z]+"
        },
        {
          "name": "support.class.module.geneia",
          "match": "\\b(G_Render|G_Web|OpenGSL|OpenGWS|OpenW2G|OpenGNEL|GeneiaUI)\\b"
        }
      ]
    },
    "flags": {
      "patterns": [
        {
          "name": "constant.language.flag.long.geneia",
          "match": "--[a-zA-Z]+"
        },
        {
          "name": "constant.language.flag.short.geneia",
          "match": "(?<=\\s)-[a-zA-Z](?=\\s|$)"
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.flow.geneia",
          "match": "\\b(peat|repeat|turn|exit|check|when|loop|func|give|back|stop|skip|each)\\b"
        },
        {
          "name": "keyword.control.import.geneia",
          "match": "\\b(import|use|from|export)\\b"
        },
        {
          "name": "storage.type.geneia",
          "match": "\\b(str|hold|var|msg)\\b"
        },
        {
          "name": "keyword.other.geneia",
          "match": "\\b(make|call|done|take|send|get)\\b"
        },
        {
          "name": "keyword.operator.word.geneia",
          "match": "\\b(be|as)\\b"
        },
        {
          "name": "support.type.time-unit.geneia",
          "match": "\\bt\\.[a-z]+\\b"
        }
      ]
    },
    "builtins": {
      "patterns": [
        {
          "name": "support.function.builtin.geneia",
          "match": "\\b(gmath|time|sys)\\b"
        },
        {
          "name": "support.function.math.geneia",
          "match": "\\b(add|sub|mul|div|mod|rand|len|wait|sqrt|abs|sin|cos|tan|floor|ceil|round|pi|e)\\b"
        },
        {
          "name": "support.function.string.geneia",
          "match": "\\b(upper|lower|trim|rev|math|join|split|size|push|pop)\\b"
        },
        {
          "name": "support.function.time.geneia",
          "match": "\\b(now|unix|year|month|day|hour)\\b"
        },
        {
          "name": "support.function.system.geneia",
          "match": "\\b(os|arch|sleep)\\b"
        },
        {
          "name": "support.function.collection.geneia",
          "match": "\\b(list|set|del|has)\\b"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.single.geneia",
          "begin": "'",
          "end": "'",
          "beginCaptures": { "0": { "name": "punctuation.definition.string.begin.geneia" } },
          "endCaptures": { "0": { "name": "punctuation.definition.string.end.geneia" } }
        },
        {
          "name": "variable.parameter.geneia",
          "begin": "\\{",
          "end": "\\}",
          "beginCaptures": { "0": { "name": "punctuation.definition.variable.begin.geneia" } },
          "endCaptures": { "0": { "name": "punctuation.definition.variable.end.geneia" } }
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.parenthesized.geneia",
          "match": "\\(\\s*-?\\d+(\\.\\d+)?\\s*\\)"
        },
        {
          "name": "constant.numeric.decimal.geneia",
          "match": "\\b\\d+\\.\\d+\\b"
        },
        {
          "name": "constant.numeric.integer.geneia",
          "match": "\\b\\d+\\b"
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.assignment.geneia",
          "match": "="
        },
        {
          "name": "keyword.operator.logical.geneia",
          "match": "(&&|\\|\\|)"
        },
        {
          "name": "keyword.operator.arithmetic.geneia",
          "match": "(\\+|\\-|\\*|\\/|%|\\^)"
        },
        {
          "name": "keyword.operator.other.geneia",
          "match": "&"
        }
      ]
    },
    "variables": {
      "patterns": [{
        "name": "variable.other.geneia",
        "match": "\\b[a-zA-Z_][a-zA-Z0-9_]*\\b"
      }]
    }
  }
}
